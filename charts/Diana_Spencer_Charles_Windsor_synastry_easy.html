<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300, "strokeWidth": 0}, "axis": {"labelFontSize": 12, "titleFontSize": 14}, "title": {"anchor": "middle", "fontSize": 16}}, "vconcat": [{"data": {"name": "data-3415b0e3ab28066078be30e850246204"}, "mark": {"type": "bar", "cornerRadius": 5, "size": 40}, "encoding": {"color": {"field": "type", "legend": null, "scale": {"domain": ["Cinderella", "Romance", "Sexual", "Marital", "Saturn Clashes"], "range": ["#90EE90", "#FFB6C1", "#DDA0DD", "#FFD700", "#FF6B6B"]}, "type": "nominal"}, "tooltip": [{"field": "type", "title": "Type", "type": "nominal"}, {"field": "count", "title": "Count", "type": "quantitative"}, {"field": "description", "title": "Details", "type": "nominal"}], "x": {"field": "count", "title": "Number of Linkages", "type": "quantitative"}, "y": {"field": "type", "title": null, "type": "nominal"}}, "height": 200, "title": "Linkages", "width": 600}, {"layer": [{"mark": {"type": "bar", "color": "#eee", "height": 30}, "encoding": {"x": {"value": 100}, "y": {"field": "category", "sort": ["Romance", "Compatibility", "Longevity", "Overall"], "title": null, "type": "nominal"}}}, {"mark": {"type": "bar", "cornerRadius": 5, "height": 30}, "encoding": {"color": {"field": "score", "scale": {"domain": [0, 50, 100], "range": ["#ff6b6b", "#ffd93d", "#4CAF50"]}, "type": "quantitative"}, "tooltip": [{"field": "category", "title": "Category", "type": "nominal"}, {"field": "score", "format": ".0f", "title": "Score", "type": "quantitative"}], "x": {"field": "score", "scale": {"domain": [0, 100]}, "title": "Score", "type": "quantitative"}, "y": {"field": "category", "sort": ["Romance", "Compatibility", "Longevity", "Overall"], "title": null, "type": "nominal"}}}, {"mark": {"type": "text", "align": "left", "baseline": "middle", "color": "white", "dx": 5, "fontSize": 14}, "encoding": {"text": {"field": "score", "format": ".0f", "type": "quantitative"}, "x": {"field": "score", "scale": {"domain": [0, 100]}, "title": "Score", "type": "quantitative"}, "y": {"field": "category", "sort": ["Romance", "Compatibility", "Longevity", "Overall"], "title": null, "type": "nominal"}}}], "data": {"name": "data-1c83b6bed32a5cf00c9a773b7fe99bbb"}, "height": 200, "title": "Compatibility Scores", "width": 600}, {"layer": [{"data": {"name": "data-57373d97017589e1d14eeaea4c990247"}, "mark": {"type": "bar"}, "encoding": {"color": {"field": "transit_type", "legend": {"title": "Transit Type"}, "scale": {"domain": ["Cinderella", "Turbulent"], "range": ["#90EE90", "#FF6B6B"]}, "type": "nominal"}, "tooltip": [{"field": "date", "title": "Date", "type": "ordinal"}, {"field": "count", "title": "Count", "type": "quantitative"}, {"field": "transit_type", "title": "Type", "type": "nominal"}, {"field": "cinderella_aspects", "title": "Cinderella Transits", "type": "nominal"}, {"field": "turbulent_aspects", "title": "Turbulent Transits", "type": "nominal"}], "x": {"axis": {"labelAngle": -45}, "field": "date", "title": "Date", "type": "ordinal"}, "y": {"field": "count", "stack": true, "title": "Number of Transits", "type": "quantitative"}}, "title": {"text": "Potential Marriage Dates Analysis", "subtitle": "Hover over bars for details"}}, {"data": {"name": "data-d8e01ddc47889bbe9cfa18a7fa9029fa"}, "mark": {"type": "line", "color": "blue", "strokeWidth": 2}, "encoding": {"tooltip": [{"field": "date", "title": "Date", "type": "ordinal"}, {"field": "score", "title": "Date Score", "type": "quantitative"}], "x": {"field": "date", "type": "ordinal"}, "y": {"axis": {"titleColor": "blue"}, "field": "score", "title": "Date Score", "type": "quantitative"}}}], "height": 300, "resolve": {"scale": {"y": "independent"}}, "width": 600}], "title": {"text": "Relationship Analysis: Diana Spencer & Charles Windsor", "subtitle": "Hover over elements for details", "fontSize": 20, "anchor": "middle"}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-3415b0e3ab28066078be30e850246204": [{"type": "Cinderella", "count": 1, "description": "Chiron parallel Neptune"}, {"type": "Romance", "count": 2, "description": "Chiron parallel Venus\nChiron parallel Neptune"}, {"type": "Sexual", "count": 1, "description": "Pluto contraparallel Mars"}, {"type": "Marital", "count": 1, "description": "Chiron parallel Venus"}, {"type": "Saturn Clashes", "count": 4, "description": "\u26a0\ufe0f Diana Spencer's Saturn square Charles Windsor's Moon\n\u26a0\ufe0f Diana Spencer's Saturn quincunx Charles Windsor's Uranus\n\u26a0\ufe0f Charles Windsor's Saturn quincunx Diana Spencer's Jupiter\n\u26a0\ufe0f Charles Windsor's Saturn opposition Diana Spencer's Chiron"}], "data-1c83b6bed32a5cf00c9a773b7fe99bbb": [{"category": "Romance", "score": 65}, {"category": "Compatibility", "score": 35}, {"category": "Longevity", "score": 50}, {"category": "Overall", "score": 50}], "data-57373d97017589e1d14eeaea4c990247": [{"date": "1981-07-28", "score": 10, "cinderella_aspects": "Transit Chiron Conjunction to Diana Spencer's Venus, Transit Jupiter Quincunx to Diana Spencer's Chiron", "turbulent_aspects": "Transit Saturn Square to Diana Spencer's Mercury , Transit Saturn Quincunx to Diana Spencer's Chiron ", "transit_type": "Cinderella", "count": 2}, {"date": "1981-07-29", "score": 5, "cinderella_aspects": "Transit Chiron Conjunction to Diana Spencer's Venus, Transit Jupiter Quincunx to Diana Spencer's Chiron", "turbulent_aspects": "Transit Saturn Square to Diana Spencer's Mercury , Transit Saturn Quincunx to Diana Spencer's Chiron , Transit Venus Contraparallel to Diana Spencer's Chiron ", "transit_type": "Cinderella", "count": 2}, {"date": "1981-07-28", "score": 10, "cinderella_aspects": "Transit Chiron Conjunction to Diana Spencer's Venus, Transit Jupiter Quincunx to Diana Spencer's Chiron", "turbulent_aspects": "Transit Saturn Square to Diana Spencer's Mercury , Transit Saturn Quincunx to Diana Spencer's Chiron ", "transit_type": "Turbulent", "count": 2}, {"date": "1981-07-29", "score": 5, "cinderella_aspects": "Transit Chiron Conjunction to Diana Spencer's Venus, Transit Jupiter Quincunx to Diana Spencer's Chiron", "turbulent_aspects": "Transit Saturn Square to Diana Spencer's Mercury , Transit Saturn Quincunx to Diana Spencer's Chiron , Transit Venus Contraparallel to Diana Spencer's Chiron ", "transit_type": "Turbulent", "count": 3}], "data-d8e01ddc47889bbe9cfa18a7fa9029fa": [{"date": "1981-07-28", "Cinderella": 2, "Turbulent": 2, "score": 10, "cinderella_aspects": "Transit Chiron Conjunction to Diana Spencer's Venus, Transit Jupiter Quincunx to Diana Spencer's Chiron", "turbulent_aspects": "Transit Saturn Square to Diana Spencer's Mercury , Transit Saturn Quincunx to Diana Spencer's Chiron "}, {"date": "1981-07-29", "Cinderella": 2, "Turbulent": 3, "score": 5, "cinderella_aspects": "Transit Chiron Conjunction to Diana Spencer's Venus, Transit Jupiter Quincunx to Diana Spencer's Chiron", "turbulent_aspects": "Transit Saturn Square to Diana Spencer's Mercury , Transit Saturn Quincunx to Diana Spencer's Chiron , Transit Venus Contraparallel to Diana Spencer's Chiron "}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>